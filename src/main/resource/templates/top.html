<!DOCTYPE html>
<html lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<title>トップ画面</title>
	<script src="https://npmcdn.com/vue/dist/vue.js"></script>
	<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
</head>
<body>
	<h1>ログインしてください</h1>
	<form action="/login" method="POST">
		<p>
			ユーザー名：<input type="text" name="username"></input><br></br>
			パスワード：<input type="password" name="password"></input>
		</p>
		<p>
			<input type="submit"></input>
		</p>
	</form>
	<p>
		<a href="createaccount">新規ユーザーはこちら</a>
	</p>
	
	   <div id="player"></div>
	   <div id="app"></div>

	 <iframe v-if="result.loaded" id="ytplayer" type="text/html" width="720" height="405"
	frameborder="0"></iframe>

    <script>
	new Vue({
		el : '#app',
		data : {
			result : {
				loaded : false
			},
		},
		created : function() {
			var that = this;
			$.ajax({
				type : "GET",
				data: {
					"part" : "id",				
					"q" : "dog",
					"key" : "AIzaSyA9vSmQ5Y0qXHtllPeZmmVHJjhNgOHS7N8"
				},
				url : "https://www.googleapis.com/youtube/v3/search",
				dataType : "json",
				success : function(result) {
					var url = "https://www.youtube.com/embed/"
					that.result.youtubeUrl = url + result.items[0].id.videoId;
					$('#ytplayer').attr("src", that.result.youtubeUrl);
					that.loaded = true;
				}
			});
		}
	});

    </script>
  
</body>
</html>